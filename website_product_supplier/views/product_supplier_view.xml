<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data noupdate="0">

    <!-- Product view for create and edit -->
    <template id="product" name="Supplier Product">
        <t t-call="website.layout">
        <t t-set="additional_title" t-value="product.get('name')"/>
            <div class="container mt8">
                <div class="row mt32">
                        <!-- Show error information -->
                        <div class="alert alert-warning" t-if="error">
                            <i class="fa fa-exclamation-triangle"/><span t-esc="error_name"/>
                        </div>
                        <form id="supplier_product" class="form-horizontal" t-attf-action="/supplier/product/save/#{slug(main_obj)}" method="post" enctype="multipart/form-data">
                            <input id="product_id" type="hidden" name="product_id" t-attf-value="product.get('id')"/>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title"><span t-esc="product.get('name','New product')"/></h3>
                                </div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="col-sm-4 col-md-4 col-lg-4">
                                                <span t-field="main_obj.image" t-field-options='{"widget": "image", "class": "product_detail_img", "alt-field": "name"}' class="oe_form_field_image_controls"/>
                                            </div>
                                        </div>
                                        <div class="col-md-8">
                                            <div t-attf-class="form-group #{error.get('name') and 'has-error' or ''}">
                                                <label class="col-md-2 control-label">Name</label>
                                                <div class="col-md-10">
                                                    <input id="name" class="form-control" name="name" placeholder="Product name..."
                                                           t-att-value="product.get('name')"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Description</label>
                                                <div class="col-md-10">
                                                    <textarea id="description" class="form-control" name="description" placeholder="Product Description..."><t t-esc="product.get('description')"/></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label">Price</label>
                                                <div class="col-md-10">
                                                    <input id="list_price" class="form-control" name="list_price" placeholder="Product Price..."
                                                           t-att-value="product.get('list_price')"/>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-2 control-label" for="ufile">Picture</label>
                                                <div class="col-md-10">
                                                    <input class="input-file" id="fileInput" type="file" name="ufile" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-12">
                                    <button  type="submit" class="btn btn-primary">Save Product</button>
                                </div>
                            </div>
                        </form>
                </div>
            </div>
        </t>
    </template>

    <template id="product_list" name="Supplier Products">
        <t t-call="website.layout">
            <div class="container mt8">
                <div class="products_pager">
                    <div class="row" style="width: 100%;">
                        <!--<t t-call="website_sale.search"><t t-set="search_class">pagination form-inline col-md-3</t></t>-->
                        <t t-call="website.pager"/>
                    </div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Your Products</h3>
                    </div>
                    <div class="panel-body">
                        <t t-foreach="products" t-as="product">
                            <div class="row mb8">
                                <div class="col-md-2">
                                  <div class="oe_product_image">
                                      <a itemprop="url" t-att-href="'/supplier/product/%s' % slug(product)">
                                          <img itemprop="image" class="img img-responsive"
                                               t-att-src="website.image_url(product, 'image', None if product_image_big else '300x300')"
                                               t-att-alt="product.name"/>
                                      </a>
                                  </div>
                                </div>
                                <div class="col col-md-4 col-xs-6">
                                    <div class="row">
                                        <a t-att-href="'/supplier/product/%s' % slug(product)" t-att-alt="product.name">
                                            <span t-field="product.name"></span>
                                        </a>
                                    </div>
                                    <div class="row">
                                        <span t-field="product.description"></span>
                                    </div>
                                </div>
                                <div class="col col-md-1 col-xs-12"><t t-esc="product.list_price"/></div>
                                <div class="col col-md-2 col-xs-6">
                                    <span t-if="product.website_published">
                                        <i class="fa fa-check"/>
                                    </span>
                                    <span t-if="not product.website_published">
                                        <i class="fa fa-ban"/>
                                    </span>
                                    <span class="icon-request-label" t-field="product.website_published"></span>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
                <div class="products_pager">
                  <t t-call="website.pager"/>
                </div>
            </div>
        </t>
    </template>

    <template id="supplier_add_product_link" name="Link to add supplier product" inherit_id="website_portal.my_account_link">
        <xpath expr="//li/a[@href='/my/home']/.." position="after">
            <li><a href="/supplier/new_product" role="menuitem">New Supplier Product</a></li>
            <li><a href="/supplier/product/list" role="menuitem">Supplier Product List</a></li>
        </xpath>
    </template>

</data>
</openerp>
